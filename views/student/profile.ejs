<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Student Profile</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="/public/css/tailwind.css" />
    <link rel="stylesheet" href="/public/css-fontawesome/all.min.css" />
    <script src="/public/js/loadHeaderFooter.js"></script>
  </head>
  <body class="bg-gray-100 font-sans min-h-screen flex flex-col">
    <div id="header"></div>

    <div class="container mx-auto px-4 py-8 max-w-5xl">
      <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold text-gray-800">My Profile</h1>
        <a
          href="/student/dashboard"
          class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded font-semibold transition flex items-center gap-2"
        >
          <i class="fa-solid fa-arrow-left"></i> Back
        </a>
      </div>

      <% if (!studentDetails) { %>
      <div
        class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4"
        role="alert"
      >
        <p>
          Profile incomplete.
          <a href="/student/register" class="font-bold underline"
            >Click here to complete registration.</a
          >
        </p>
      </div>
      <% } else { %>

      <div class="bg-white rounded-xl shadow-md overflow-hidden">
        <div
          class="bg-gradient-to-r from-indigo-900 to-blue-800 p-8 text-white flex flex-col md:flex-row items-center gap-6"
        >
          <div class="relative">
            <img
              src="/public/uploads/profile_pics/<%= studentDetails.profile_pic %>"
              alt="Profile Pic"
              class="w-32 h-32 rounded-full border-4 border-white shadow-lg object-cover bg-white"
            />
          </div>
          <div class="text-center md:text-left">
            <h2 class="text-3xl font-bold capitalize">
              <%= studentDetails.student_name %>
            </h2>
            <p class="text-blue-200 font-mono text-lg mt-1">
              <%= studentDetails.rollno %> (<%= studentDetails.year_of_admission
              %>)
            </p>
            <span
              class="inline-block mt-3 bg-blue-700 px-3 py-1 rounded-full text-sm border border-blue-500"
              ><%= studentDetails.department %></span
            >
          </div>
        </div>

        <div class="p-8">
          <h3 class="text-lg font-bold text-gray-800 border-b pb-2 mb-4">
            Personal Details
          </h3>
          <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"
          >
            <div class="bg-gray-50 p-3 rounded border border-gray-200">
              <span class="block text-xs text-gray-500 uppercase font-semibold"
                >Father's Name</span
              >
              <span class="block text-gray-800 font-medium"
                ><%= studentDetails.father_name %></span
              >
            </div>
            <div class="bg-gray-50 p-3 rounded border border-gray-200">
              <span class="block text-xs text-gray-500 uppercase font-semibold"
                >Date of Birth</span
              >
              <span class="block text-gray-800 font-medium"
                ><%= studentDetails.dob %></span
              >
            </div>
            <div class="bg-gray-50 p-3 rounded border border-gray-200">
              <span class="block text-xs text-gray-500 uppercase font-semibold"
                >Gender</span
              >
              <span class="block text-gray-800 font-medium"
                ><%= studentDetails.gender %></span
              >
            </div>
            <div class="bg-gray-50 p-3 rounded border border-gray-200">
              <span class="block text-xs text-gray-500 uppercase font-semibold"
                >Category</span
              >
              <span class="block text-gray-800 font-medium"
                ><%= studentDetails.category %></span
              >
            </div>
            <div class="bg-gray-50 p-3 rounded border border-gray-200">
              <span class="block text-xs text-gray-500 uppercase font-semibold"
                >Religion</span
              >
              <span class="block text-gray-800 font-medium"
                ><%= studentDetails.religion %></span
              >
            </div>
            <div class="bg-gray-50 p-3 rounded border border-gray-200">
              <span class="block text-xs text-gray-500 uppercase font-semibold"
                >Nationality</span
              >
              <span class="block text-gray-800 font-medium"
                ><%= studentDetails.nationality %></span
              >
            </div>
          </div>

          <h3 class="text-lg font-bold text-gray-800 border-b pb-2 mb-4">
            Contact & Address
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="bg-gray-50 p-3 rounded border border-gray-200">
              <span class="block text-xs text-gray-500 uppercase font-semibold"
                ><i class="fa-solid fa-phone mr-1"></i> Phone</span
              >
              <span class="block text-gray-800 font-medium"
                ><%= studentDetails.phone_no %></span
              >
            </div>
            <div class="bg-gray-50 p-3 rounded border border-gray-200">
              <span class="block text-xs text-gray-500 uppercase font-semibold"
                ><i class="fa-solid fa-envelope mr-1"></i> Email</span
              >
              <span class="block text-gray-800 font-medium"
                ><%= studentDetails.email %></span
              >
            </div>
            <div
              class="bg-gray-50 p-3 rounded border border-gray-200 md:col-span-2"
            >
              <span class="block text-xs text-gray-500 uppercase font-semibold"
                >Permanent Address</span
              >
              <span class="block text-gray-800 font-medium"
                ><%= studentDetails.permanent_address %>, <%=
                studentDetails.district %>, <%= studentDetails.domicile_state %>
                - <%= studentDetails.pin_code %></span
              >
            </div>
            <div
              class="bg-gray-50 p-3 rounded border border-gray-200 md:col-span-2"
            >
              <span class="block text-xs text-gray-500 uppercase font-semibold"
                >Correspondence Address</span
              >
              <span class="block text-gray-800 font-medium"
                ><%= studentDetails.correspondence_address %></span
              >
            </div>
          </div>
        </div>
      </div>
      <% } %>
    </div>
  </body>
</html>
